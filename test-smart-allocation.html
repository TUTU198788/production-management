<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½åˆ†é…å’Œæ‹–æ‹½æ’åºåŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            color: #1f2937;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        h1 {
            color: #1e40af;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }
        
        .test-section h3 {
            color: #059669;
            margin-top: 0;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .feature-list li::before {
            content: 'âœ…';
            margin-right: 10px;
        }
        
        .demo-container {
            background: #f8fafc;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-item {
            padding: 15px;
            border-radius: 8px;
        }
        
        .before {
            background: #fef2f2;
            border: 1px solid #fecaca;
        }
        
        .after {
            background: #ecfdf5;
            border: 1px solid #a7f3d0;
        }
        
        .before h4 {
            color: #dc2626;
            margin-top: 0;
        }
        
        .after h4 {
            color: #059669;
            margin-top: 0;
        }
        
        .workflow-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }
        
        .workflow-step-number {
            background: #3b82f6;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .workflow-step-content {
            flex: 1;
        }
        
        .workflow-step-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 5px;
        }
        
        .workflow-step-desc {
            font-size: 14px;
            color: #6b7280;
        }
        
        .drag-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .drag-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            cursor: move;
            transition: all 0.2s;
            position: relative;
        }
        
        .drag-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .drag-card::before {
            content: 'â‹®â‹®';
            position: absolute;
            top: 10px;
            left: 10px;
            color: #6b7280;
            font-size: 12px;
            line-height: 1;
        }
        
        .drag-card-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
            margin-left: 20px;
        }
        
        .drag-card-desc {
            font-size: 12px;
            color: #6b7280;
            margin-left: 20px;
        }
        
        .priority-indicator {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-left: 10px;
        }
        
        .priority-high {
            background: #fee2e2;
            color: #dc2626;
        }
        
        .priority-medium {
            background: #fef3c7;
            color: #d97706;
        }
        
        .priority-low {
            background: #dcfce7;
            color: #16a34a;
        }
        
        .allocation-example {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .allocation-title {
            color: #0369a1;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .allocation-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 10px 0;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .allocation-input {
            background: #dbeafe;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 500;
            color: #1e40af;
        }
        
        .allocation-arrow {
            color: #3b82f6;
            font-size: 18px;
        }
        
        .allocation-output {
            background: #dcfce7;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 500;
            color: #16a34a;
            text-align: center;
            flex: 1;
            min-width: 150px;
        }
        
        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .highlight {
            background: #fbbf24;
            color: #1f2937;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ æ™ºèƒ½åˆ†é…å’Œæ‹–æ‹½æ’åºåŠŸèƒ½</h1>
        
        <div class="test-section">
            <h3>ğŸ¯ åŠŸèƒ½æ¦‚è¿°</h3>
            <p>æ–°å¢ç”Ÿäº§åŠŸèƒ½å·²å…¨é¢å‡çº§ï¼Œç°åœ¨æ”¯æŒæ™ºèƒ½åˆ†é…å’ŒåŒºåŸŸæ‹–æ‹½æ’åºï¼Œè®©ç”Ÿäº§ç®¡ç†æ›´åŠ æ™ºèƒ½åŒ–å’Œçµæ´»ï¼š</p>
            <ul class="feature-list">
                <li><strong>æ™ºèƒ½åˆ†é…</strong>ï¼šæ–°å¢ç”Ÿäº§æ—¶å¯ä¸é€‰æ‹©åŒºåŸŸï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ†é…åˆ°ç´§æ€¥åŒºåŸŸ</li>
                <li><strong>æ‹–æ‹½æ’åº</strong>ï¼šåŒºåŸŸå¡ç‰‡æ”¯æŒæ‹–æ‹½æ’åºï¼Œæ’åºä»£è¡¨ç´§æ€¥ç¨‹åº¦</li>
                <li><strong>ä¼˜å…ˆçº§ç®¡ç†</strong>ï¼šå‰é¢çš„åŒºåŸŸä¼˜å…ˆå®Œæˆï¼Œåé¢çš„åŒºåŸŸåç»­å¡«å……</li>
                <li><strong>ç”Ÿäº§æ—¥æœŸè®°å½•</strong>ï¼šæ–°å¢ç”Ÿäº§æ—¶è®°å½•å…·ä½“çš„ç”Ÿäº§æ—¥æœŸ</li>
                <li><strong>è‡ªåŠ¨æ›´æ–°ç»Ÿè®¡</strong>ï¼šæ™ºèƒ½åˆ†é…åè‡ªåŠ¨æ›´æ–°æœªç”Ÿäº§è§„æ ¼ç»Ÿè®¡</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>ğŸ”„ æ™ºèƒ½åˆ†é…å·¥ä½œæµç¨‹</h3>
            <p>å½“ç”¨æˆ·é€‰æ‹©"æ™ºèƒ½åˆ†é…åˆ°ç´§æ€¥åŒºåŸŸ"æ—¶ï¼Œç³»ç»ŸæŒ‰ä»¥ä¸‹æµç¨‹å¤„ç†ï¼š</p>
            
            <div class="workflow-step">
                <div class="workflow-step-number">1</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">è·å–åŒºåŸŸä¼˜å…ˆçº§</div>
                    <div class="workflow-step-desc">ä»æ‹–æ‹½æ’åºä¸­è·å–å½“å‰çš„åŒºåŸŸä¼˜å…ˆçº§é¡ºåº</div>
                </div>
            </div>
            
            <div class="workflow-step">
                <div class="workflow-step-number">2</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">æŸ¥æ‰¾æœªå®Œæˆè®¡åˆ’</div>
                    <div class="workflow-step-desc">æŸ¥æ‰¾è¯¥è§„æ ¼åœ¨å„åŒºåŸŸçš„æœªå®Œæˆç”Ÿäº§è®¡åˆ’</div>
                </div>
            </div>
            
            <div class="workflow-step">
                <div class="workflow-step-number">3</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">æŒ‰ä¼˜å…ˆçº§åˆ†é…</div>
                    <div class="workflow-step-desc">ä¼˜å…ˆåˆ†é…ç»™æ’åºé å‰çš„åŒºåŸŸï¼Œå‰é¢å®Œæˆåå†å¡«å……åé¢</div>
                </div>
            </div>
            
            <div class="workflow-step">
                <div class="workflow-step-number">4</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">æ›´æ–°ç”Ÿäº§è®°å½•</div>
                    <div class="workflow-step-desc">æ›´æ–°å„åŒºåŸŸçš„ç”Ÿäº§æ•°é‡å’ŒçŠ¶æ€ï¼Œè®°å½•ç”Ÿäº§æ—¥æœŸ</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š æ™ºèƒ½åˆ†é…ç¤ºä¾‹</h3>
            <p>å‡è®¾æœ‰ä»¥ä¸‹åœºæ™¯ï¼š</p>
            
            <div class="allocation-example">
                <div class="allocation-title">åœºæ™¯ï¼šæ–°å¢ H100-1200mm è§„æ ¼ 100æ ¹</div>
                
                <div class="allocation-flow">
                    <div class="allocation-input">è¾“å…¥ï¼š100æ ¹</div>
                    <div class="allocation-arrow">â†’</div>
                    <div class="allocation-output">
                        C1åŒºåŸŸï¼š50æ ¹ (éœ€è¦50æ ¹)<br>
                        C3åŒºåŸŸï¼š30æ ¹ (éœ€è¦80æ ¹ï¼Œåˆ†é…30æ ¹)<br>
                        E1åŒºåŸŸï¼š20æ ¹ (éœ€è¦60æ ¹ï¼Œåˆ†é…20æ ¹)
                    </div>
                </div>
                
                <p style="margin-top: 15px; font-size: 14px; color: #6b7280;">
                    ç³»ç»ŸæŒ‰åŒºåŸŸä¼˜å…ˆçº§é¡ºåºåˆ†é…ï¼šC1åŒºåŸŸæœ€ç´§æ€¥ï¼Œä¼˜å…ˆæ»¡è¶³ï¼›C3åŒºåŸŸæ¬¡ä¹‹ï¼Œéƒ¨åˆ†æ»¡è¶³ï¼›E1åŒºåŸŸæœ€åï¼Œéƒ¨åˆ†æ»¡è¶³ã€‚
                </p>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ¨ åŒºåŸŸæ‹–æ‹½æ’åº</h3>
            <p>åŒºåŸŸå¡ç‰‡ç°åœ¨æ”¯æŒæ‹–æ‹½æ’åºï¼Œæ’åºä»£è¡¨ç´§æ€¥ç¨‹åº¦ï¼š</p>
            
            <div class="demo-container">
                <p style="margin-bottom: 15px; color: #6b7280; font-size: 14px;">
                    <i class="fas fa-arrows-alt" style="color: #3b82f6;"></i>
                    å¯æ‹–æ‹½æ’åºï¼ˆæ’åºä»£è¡¨ç´§æ€¥ç¨‹åº¦ï¼‰
                </p>
                
                <div class="drag-demo">
                    <div class="drag-card">
                        <div class="drag-card-title">
                            C1åŒºåŸŸ
                            <span class="priority-indicator priority-high">æœ€ç´§æ€¥</span>
                        </div>
                        <div class="drag-card-desc">å®Œæˆç‡: 45.2% | 8ä¸ªè§„æ ¼</div>
                    </div>
                    
                    <div class="drag-card">
                        <div class="drag-card-title">
                            C3åŒºåŸŸ
                            <span class="priority-indicator priority-medium">è¾ƒç´§æ€¥</span>
                        </div>
                        <div class="drag-card-desc">å®Œæˆç‡: 62.8% | 5ä¸ªè§„æ ¼</div>
                    </div>
                    
                    <div class="drag-card">
                        <div class="drag-card-title">
                            E1åŒºåŸŸ
                            <span class="priority-indicator priority-low">ä¸€èˆ¬</span>
                        </div>
                        <div class="drag-card-desc">å®Œæˆç‡: 78.5% | 3ä¸ªè§„æ ¼</div>
                    </div>
                </div>
                
                <p style="margin-top: 15px; font-size: 14px; color: #6b7280;">
                    æ‹–æ‹½å¡ç‰‡å¯ä»¥æ”¹å˜åŒºåŸŸä¼˜å…ˆçº§ï¼Œæ™ºèƒ½åˆ†é…æ—¶ä¼šæŒ‰æ–°çš„æ’åºè¿›è¡Œåˆ†é…ã€‚
                </p>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ”§ æŠ€æœ¯å®ç°</h3>
            <p>æ™ºèƒ½åˆ†é…å’Œæ‹–æ‹½æ’åºçš„æ ¸å¿ƒæŠ€æœ¯å®ç°ï¼š</p>
            
            <div class="code-block">
<span class="highlight">// æ™ºèƒ½åˆ†é…æ ¸å¿ƒç®—æ³•</span>
smartAllocateProduction(spec, totalQuantity) {
    // 1. è·å–åŒºåŸŸä¼˜å…ˆçº§æ’åº
    const areaOrder = this.getAreaPriorityOrder();
    
    // 2. æŸ¥æ‰¾æœªå®Œæˆè®¡åˆ’å¹¶æŒ‰ä¼˜å…ˆçº§æ’åº
    const unfinishedPlans = this.data
        .filter(item => item.spec === spec && item.produced < item.planned)
        .sort((a, b) => {
            const aIndex = areaOrder.indexOf(a.area);
            const bIndex = areaOrder.indexOf(b.area);
            return (aIndex === -1 ? 999 : aIndex) - (bIndex === -1 ? 999 : bIndex);
        });
    
    // 3. æŒ‰ä¼˜å…ˆçº§åˆ†é…æ•°é‡
    const allocations = [];
    let remainingQuantity = totalQuantity;
    
    for (const plan of unfinishedPlans) {
        if (remainingQuantity <= 0) break;
        const needed = plan.planned - plan.produced;
        const allocated = Math.min(needed, remainingQuantity);
        
        if (allocated > 0) {
            allocations.push({
                spec: spec,
                area: plan.area,
                quantity: allocated
            });
            remainingQuantity -= allocated;
        }
    }
    
    return allocations;
}
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ¯ ä½¿ç”¨åœºæ™¯</h3>
            <div class="comparison-grid">
                <div class="comparison-item before">
                    <h4>âŒ åŸæ¥çš„æ–¹å¼</h4>
                    <ul style="font-size: 14px; color: #7f1d1d;">
                        <li>å¿…é¡»æ‰‹åŠ¨é€‰æ‹©åŒºåŸŸ</li>
                        <li>ä¸çŸ¥é“å“ªä¸ªåŒºåŸŸæ›´ç´§æ€¥</li>
                        <li>å®¹æ˜“åˆ†é…ä¸å‡è¡¡</li>
                        <li>éœ€è¦äººå·¥åˆ¤æ–­ä¼˜å…ˆçº§</li>
                    </ul>
                </div>
                <div class="comparison-item after">
                    <h4>âœ… ç°åœ¨çš„æ–¹å¼</h4>
                    <ul style="font-size: 14px; color: #064e3b;">
                        <li>å¯é€‰æ‹©æ™ºèƒ½åˆ†é…</li>
                        <li>æ‹–æ‹½æ’åºè®¾ç½®ä¼˜å…ˆçº§</li>
                        <li>è‡ªåŠ¨å‡è¡¡åˆ†é…</li>
                        <li>ç³»ç»Ÿæ™ºèƒ½åˆ¤æ–­</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ“‹ æ–°å¢ç”Ÿäº§æµç¨‹</h3>
            <p>ç°åœ¨çš„æ–°å¢ç”Ÿäº§æµç¨‹æ›´åŠ çµæ´»ï¼š</p>
            
            <div class="workflow-step">
                <div class="workflow-step-number">1</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">å¡«å†™åŸºæœ¬ä¿¡æ¯</div>
                    <div class="workflow-step-desc">å‹å·ã€é•¿åº¦ã€ç”Ÿäº§æ ¹æ•°ã€ç”Ÿäº§æ—¥æœŸï¼ˆå¿…å¡«ï¼‰</div>
                </div>
            </div>
            
            <div class="workflow-step">
                <div class="workflow-step-number">2</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">é€‰æ‹©åˆ†é…æ–¹å¼</div>
                    <div class="workflow-step-desc">å¯é€‰æ‹©å…·ä½“åŒºåŸŸï¼Œæˆ–é€‰æ‹©"æ™ºèƒ½åˆ†é…åˆ°ç´§æ€¥åŒºåŸŸ"</div>
                </div>
            </div>
            
            <div class="workflow-step">
                <div class="workflow-step-number">3</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">ç³»ç»Ÿå¤„ç†</div>
                    <div class="workflow-step-desc">æ ¹æ®é€‰æ‹©è¿›è¡Œæ™ºèƒ½åˆ†é…æˆ–ç›´æ¥åˆ†é…åˆ°æŒ‡å®šåŒºåŸŸ</div>
                </div>
            </div>
            
            <div class="workflow-step">
                <div class="workflow-step-number">4</div>
                <div class="workflow-step-content">
                    <div class="workflow-step-title">æ›´æ–°ç»Ÿè®¡</div>
                    <div class="workflow-step-desc">è‡ªåŠ¨æ›´æ–°å„åŒºåŸŸç»Ÿè®¡å’Œæœªç”Ÿäº§è§„æ ¼ç»Ÿè®¡</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ’¡ å®é™…åº”ç”¨ä¼˜åŠ¿</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div style="padding: 15px; background: #eff6ff; border: 1px solid #93c5fd; border-radius: 8px;">
                    <h4 style="color: #1d4ed8; margin-top: 0;">ğŸ¯ ç”Ÿäº§æ•ˆç‡</h4>
                    <ul style="font-size: 14px; color: #1e3a8a;">
                        <li>ä¼˜å…ˆå®Œæˆç´§æ€¥åŒºåŸŸ</li>
                        <li>å‡å°‘äººå·¥åˆ¤æ–­æ—¶é—´</li>
                        <li>é¿å…åˆ†é…é”™è¯¯</li>
                        <li>æé«˜æ•´ä½“æ•ˆç‡</li>
                    </ul>
                </div>
                <div style="padding: 15px; background: #ecfdf5; border: 1px solid #a7f3d0; border-radius: 8px;">
                    <h4 style="color: #059669; margin-top: 0;">ğŸ“Š ç®¡ç†ä¾¿æ·</h4>
                    <ul style="font-size: 14px; color: #064e3b;">
                        <li>æ‹–æ‹½è°ƒæ•´ä¼˜å…ˆçº§</li>
                        <li>æ™ºèƒ½åˆ†é…å»ºè®®</li>
                        <li>å®æ—¶ç»Ÿè®¡æ›´æ–°</li>
                        <li>å†å²è®°å½•è¿½è¸ª</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸš€ æœªæ¥æ‰©å±•</h3>
            <p>åŸºäºæ™ºèƒ½åˆ†é…æ¶æ„ï¼Œæœªæ¥å¯ä»¥æ‰©å±•æ›´å¤šåŠŸèƒ½ï¼š</p>
            <ul class="feature-list">
                <li><strong>æ™ºèƒ½æ¨è</strong>ï¼šåŸºäºå†å²æ•°æ®æ¨èæœ€ä¼˜åˆ†é…æ–¹æ¡ˆ</li>
                <li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šè€ƒè™‘å„åŒºåŸŸçš„ç”Ÿäº§èƒ½åŠ›è¿›è¡Œå‡è¡¡åˆ†é…</li>
                <li><strong>æ—¶é—´ä¼˜åŒ–</strong>ï¼šæ ¹æ®äº¤æœŸè¦æ±‚ä¼˜åŒ–åˆ†é…é¡ºåº</li>
                <li><strong>æˆæœ¬è€ƒè™‘</strong>ï¼šç»“åˆè¿è¾“æˆæœ¬ç­‰å› ç´ è¿›è¡Œåˆ†é…</li>
                <li><strong>é¢„æµ‹åˆ†æ</strong>ï¼šé¢„æµ‹å„åŒºåŸŸçš„å®Œæˆæ—¶é—´</li>
            </ul>
        </div>
    </div>
</body>
</html>
